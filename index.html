<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List of Snippets</title>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="data.js"></script>

    <style>
            .listbtn{
                padding: 5px;
                margin: 10px;
            }
    </style>

</head>
<body>
    
    <div id="sniplist">
        <button onclick="gotosnippet(null)">EDITOR</button>
    </div>


    <script>
        
        $(document).ready(function() {

            var buf_lang = 'none';

            Object.keys(a.Data).forEach(key => {
                console.log(key, a.Data[key]);

                if(buf_lang!= a.Data[key]['language']){
                    buf_lang =a.Data[key]['language'];

                    document.getElementById('sniplist').appendChild(document.createElement('hr'))
                    var separe = document.createElement('h3');
                    separe.innerHTML = a.Data[key]['language'];
                    document.getElementById('sniplist').appendChild(separe)

                }

                var button = document.createElement('button');
                button.setAttribute("class", "listbtn");


                // if a description is present
                var _descr = a.Data[key]['description'];
                if(_descr==null) {
                    _descr = a.Data[key]['snippet'];
                }

                button.innerHTML = _descr;
                button.class
                button.onclick = function(){
                    gotosnippet(a.Data[key]['path'])
                };

                document.getElementById('sniplist').appendChild(button);
            });

        });

    </script>

</body>
<script>
    function gotosnippet(_sel) {
        localStorage.setItem("selected", _sel);
        window.location.href="code.html";
    }
</script>
</html>